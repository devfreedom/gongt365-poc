# 공트365 🏋️

2022년 한국지능정보사회진흥원(NIA)에서 주최한 공공데이터 아이디어 해커톤에 제출해 본선에 진출했던 '공트365' 기획안의 기술적 개념증명을 위해 만든 기초적인 풀스택 웹앱입니다.

웹 개발을 본격적으로 배우기 전에 독학으로 만든 습작입니다. 부족함이 많지만 성장의 과정으로 간직하고 있습니다.


## 기획안

### 기획 의도

- 최근 OECD 통계를 보면 대한민국 청소년의 운동량은 세계 최저 수준이며, WHO 통계에 의하면 대한민국 성인 인구 3분의 1은 운동부족이라고 합니다. 특히나 코로나19 대유행을 겪으면서 국민들의 실외 활동량이 많이 줄어들었고, 사회적 거리두기를 비롯한 각종 조치가 해제된 이후에도 이러한 경향은 쉽게 바뀌지 않고 있습니다. WHO는 18∼64세의 건강한 성인들에게 주당 최소 150∼300분의 중강도 유산소 운동이나 75∼150분의 격렬한 운동과 함께 신체의 모든 근육을 강화하기 위한 운동을 매주 2일 이상 하도록 권장하고 있지만 이를 지키기는 쉽지 않아 보입니다.

- 여러 가지 이유가 있겠지만, 서울특별시에서 조사하고 공공데이터로 공개한 <운동을 하지 않는 이유 통계>에 따르면 절반 가까운 응답자가 ‘운동을 할 충분한 시간이 없어서’ 라고 답했습니다. 이는 울산광역시 울주군 등 다른 지방자치단체에서 실시한 조사에서도 ‘귀찮아서’라는 응답과 함께 일반적으로 가장 큰 이유로 나타나고 있습니다. 또한 ‘할 수 있는 운동이 없어서‘, ’같이 할 사람이 없어서‘, ’운동을 할 충분한 비용이 없어서‘, ’운동을 할 만한 장소가 없어서‘ 등도 그 이유라고 합니다.

- 이 문제를 어떻게 해결할 수 있을까요? 부담스러운 비용과 많은 시간을 들이지 않고, 사람들과 함께, 접근성 좋은 장소에서, 어렵거나 복잡하지 않은 운동을 할 수 있는 방법은 없을까요? 공트365는 전국의 지방자치단체들이 구축한 야외 운동기구 공공데이터를 기반으로, 모든 국민들이 근린공원이나 산 속 체력단련장 등 생활 반경 내에 있는 공공장소 운동기구를 적극적으로 활용해 체력을 단련하고 보다 건강하게 생활하실 수 있게 도와주는 생활밀착형 모바일 앱 입니다. 공트365와 함께 '홈트' 대신 공공장소에서 트레이닝하세요!


### 기능 정의
공트365는 4가지 주요 기능을 담고 있습니다. 

1. 개인 맞춤형 피트니스 관리
    - 사용자는 먼저 다음과 같은 개인 정보를 입력해 프로필을 생성하게 됩니다.
        - 키, 몸무게, 보폭, 근육량 등 본인의 신체 정보
        - 본인의 거주/출퇴근/등하교 장소 및 시간
        - 목표로 하는 일일/주간/월간 운동 시간
        - 목표로 하는 근육 운동 신체 부위
        - 목표로 하는 칼로리 소모량
    - 이러한 정보를 기반으로 공트365는 다음과 같은 개인 맞춤형 피트니스 서비스를 제공합니다.
        - 설정한 신체 부위의 근육 운동을 할 수 있는 야외 운동기구만 골라서 지도상에 표시해주는 기능
        - 출퇴근/등하교 시간과 경로를 바탕으로 경유할 수 있는 인접 운동 기구만 선별해주고, 현재 위치가 그 장소에 가까워지거나 또는 반복적인 일과 상에서 그 장소에 도달할 시간이 되면 맞춤형 알람을 울려 해당 공공장소 방문 및 운동기구 사용을 촉진하는 동기부여 알람 기능
        - 운동량, 운동 시간 및 목표 달성 여부를 달력에 기록할 수 있는 기능 (운동 다이어리 기능)
        - 운동 기록 정보와 입력된 신체 정보에 기반해, 설정한 목표치에 도달하려면 앞으로 어떤 운동을 얼마나 더 해야될지를 회귀분석으로 예측하고 운동 계획을 제안
2. 전국 지방자치단체별 야외 운동기구 위치 및 상세정보 표시
    - GPS 및 네트워크로부터 파악된 현재 위치, 또는 임의로 설정한 지역, 또는 개인 프로필에 기반해서 해당 지역 내에 있는 야외 운동기구 위치와 정보를 지도상에 표시해줍니다. 
        - 이를 위해서는 현존하는 전국 지방자치단체별 <야외(실외) 운동기구 현황> 공공데이터 데이터셋들을 동일한 구조와 스키마로 취합하고, 각 운동 기구별로 운동이 가능한 신체 부위를 분류하여 추가한 표준 데이터베이스의 구축이 필요합니다.
            - 예시
                - 지역: 서울특별시 서대문구 
                - 장소명: 홍은2동주민쉼터
                - 위도: 37.58339 
                - 경도: 126.936472 
                - 운동기구: 파도타기/허리돌리기/롤링웨이스트
                - 운동부위: 복부, 허리
                - 운동유형: 근육운동
                - 관리부서: 서대문구청 푸른도시과 
                - 연락처: 02-330-1395
3. 운동 가이드 
    - 야외 운동기구를 올바르고 안전한 방법으로 사용하는 시범을 보여주는 영상을 각 야외 운동기구 종류별로 시청하고 따라할 수 있는 기능 
        - 홈트레이닝 비디오의 야외 운동기구 버전
    - 야외 운동기구 종류마다 근육 및 유산소 운동에 가장 효과적인 운동 간격에 맞춰 알림음으로 한 세트씩 끊어주고 휴식 시간을 알려주는 인터벌 타이머 기능
    - 해당 타이머를 이용해 기록된 운동기구 사용 시간에 기반하여 칼로리 소모량 및 근육 운동량 추정치 계산 기능
        - 운동 다이어리와 자동 연동
4. 운동 소모임 기능
    - 야외 운동기구가 있는 지역 내 공공장소에 특정 날짜와 시간에 모여서 함께 운동을 할 수 있도록, 운동 모임을 만들거나 참가할 수 있는 게시판 및 일정 관리 기능 
        - 현존하는 소모임 플랫폼과 유사한 방식으로
    - 모임 참가자들끼리 모임 참가 횟수, 운동 시간, 칼로리 소모량 등의 공동 목표를 세우고 서로 진행률을 비교하여 동기부여를 하는 챌린지 기능


### 차별점 및 기대효과

코로나19 바이러스의 위험성 및 각종 방역 조치로 인해 많은 사람들이 헬스장 대신에 공공장소에 있는 야외 운동기구를 적극적으로 활용하기 시작했습니다. 이른바 ‘산스장’이라는 신조어까지 생기고 이러한 현상이 언론에 보도도 되었지만, 사람들은 정작 어느 장소에 어떤 운동 기구가 있는지를 쉽게 알 수 있는 방법이 없었습니다. 이는 현재 서비스되고 있는 주요 상업용 지리정보 및 지도 서비스를 사용하더라도 검색을 하거나 파악하기가 어려운 부분입니다. 

공트365는 공공데이터를 활용해 이러한 불편함을 위치기반으로 해소해주고, 국민들이 운동을 꺼려하는 페인포인트까지 정확하게 겨냥하여 해결책을 제시합니다.
    - 어디서 운동을 해야 할지 모르겠다면,
        - 근린공원과 동네 산과 같은 공공장소에는 야외 운동기구들이 잘 갖춰져 있습니다.
        - 운동기구들의 위치와 종류 등 각종 정보를 지도상에 표시해주고, 라이프스타일을 기반으로 접근성이 가장 높은 장소를 제안해드립니다!
    - 운동을 할 시간이 없다면,
        - 운동을 하기 위해서 따로 시간을 내는 대신에, 출퇴근이나 등하교 길에 간단하게 운동을 할 수 있다면 시간을 절약할 수 있고 귀찮음도 줄어듭니다.
        - 출발하고 도착하는 시간/장소를 기반으로 야외 운동기구를 경유할 수 있는 경로를 알려주고 시간에 맞춰 알려드립니다!
    - 할 수 있는 운동이 없다면,
        - 야외 운동기구들은 사용하기에 복잡하거나 어렵지 않아서 누구나 할 수 있습니다.
        - 운동 기구들을 안전하고 올바르게 사용할 수 있도록 안내해주는 동영상과, 운동효과를 극대화시켜주는 각종 부가 기능을 제공해드립니다!
    - 운동을 같이 할 사람이 없다면,
        - 야외 운동기구가 갖춰진 공공장소를 중심으로 지역 주민들끼리 운동 모임을 만들고 참여할 수 있게 주선해드립니다!
    - 운동을 하려면 비용이 들지 않을까 걱정이라면,
        - 야외 운동기구는 무료입니다!

공공장소에 설치된 야외 운동기구들은 여러분들의 발걸음을 소리 없이 기다리고 있습니다. 공트365는 국민들의 소중한 세금으로 조성된 야외 운동기구가 방치되고 낭비되는 일이 없도록, 남녀노소 모든 분들이 그 가치를 온전하게 누릴 수 있게끔 도와드리고자 합니다.

공트365를 사용하면 비용을 들이지 않고도 누구나 생활 속에서 손쉽게 건강과 체력을 증진시킬 수 있습니다. 운동 효과 뿐만이 아닙니다. 공트365는 반복되는 일상을 벗어나 지금껏 나도 모르게 지나쳤던 우리 지역의 자연과 공간들을 새롭게 발견하는 소중한 기회도 제공해줍니다. 또한 운동 소모임을 통해 지역 주민들을 연결해주고 격려해준다는 점에서 공트365는 지역 공동체 활성화에도 기여를 하는 공익적 서비스입니다.


## 주요 기능

- 지방자치단체에서 관리하는 공공장소 운동기구들의 위치를 지도상에 관심지점(Point-of-interest; POI) 마커로 표시하고 관련 정보를 목록으로 표시합니다.
- 사용자들이 함께 모여 운동을 할 수 있도록 소모임을 게시판에 만들고 삭제할 수 있습니다.
- 공공장소에 마련되어있는 운동기구의 종류별 정보 및 사용법을 안내합니다.
- ~~사용자 계정 및 개인 프로필 관리 기능~~
- ~~운동 타이머 기능~~

## 기술 스택

### 프론트엔드
- HTML + CSS + JavaScript
    - CSS 프레임워크: [Tailwind CSS](https://tailwindcss.com/)
    - 지도 라이브러리: [Leaflet.js](https://leafletjs.com/)

### 백엔드

- 자바스크립트 런타임: [Node.js](https://nodejs.org/en/)
- 백엔드 웹앱 프레임워크: [Express.js](https://expressjs.com/)
- 템플릿 엔진: [EJS (Embedded JavaScript templates)](https://ejs.co/)

### 데이터베이스

- 문서형 DBMS: [MongoDB](https://www.mongodb.com/)
    - DB 호스팅: [MongoDB Atlas](https://www.mongodb.com/atlas/database)
- 데이터 소스: [대한민국 정부 공공데이터 포털](https://www.data.go.kr/)
    - 데이터셋
        - 시범 운영 지역: 서울특별시 서대문구
        - [서울특별시 서대문구_야외운동기구 설치 현황.csv](https://www.data.go.kr/data/15085619/fileData.do)

## 정보 구조도
- 지도
    - POI 마커를 지도에 표시 
    - POI 정보를 목록으로 표시
- 운동 
    - 운동기구 관련 정보를 종류별로 표시
        - 운동기구 
        - 운동기구 사용법 동영상 시청 (유튜브 외부 링크)
- 모임 
    - 소모임 행사 목록을 표시하고 추가 및 삭제
        - ~~사용자 계정에 기반한 참가 희망(RSVP) 기능~~
- 프로필 
    - ~~사용자 계정 정보 및 관리~~
    - ~~행정구역 선택~~
        - ~~행정구역 목록을 담은 드롭다운 리스트에서 사용자가 수동으로 선택하거나, 현재 위치 좌표를 주소 및 행정구역으로 자동 변환해주는 별도의 제3자 위치정보 API 서비스 활용~~
        - 선택된 행정구역의 기상정보 표시
    - ~~'집중 운동' 기능~~
        - ~~집중적으로 단련하고자 하는 신체 부위(복부, 종아리, 어깨 등)를 선택하면 이에 도움이 되는 운동기구들이 있는 POI들만 선별해서 표시~~
    - ~~운동 타이머~~
        - ~~운동 반복 횟수와 시간을 설정하면 각 세트의 시작과 종료를 알림~~

### 추가적으로 진행할 사항
- 기획했던 기본 기능들 모두 구현하기
    - 운동 타이머 기능
        - 표준 Notifications API를 사용하는 방법을 고려 중
    - 사용자 계정 및 프로필 기능
        - 추가 DB 및 CRUD 구현 필요
- 부가 기능
    - 일간/주간/월간 운동 스케줄 관리 및 알림 기능
        - 백그라운드 서비스 및 네이티브 노티피케이션이 필요할 것으로 예상됨
            - Progressive Web App(PWA)으로 만들어 푸시 서비스 및 알림을 구현하는 방법
            - 하이브리드 웹앱으로 만들어 직접 네이티브 알림 기능에 접근하는 방법
    - 현재 위치에서 선택된 특정 POI로 가는 길을 표시해주는 길찾기 기능 
        - Leaflet Routing Machine (https://www.liedman.net/leaflet-routing-machine)을 사용하는 방법
        - Leaflet.js를 네이버 또는 카카오 지도 API로 교체하는 방법
- 보안
    - CORS-compliance 확인
    - 입력값 검증을 철저하게 구현
    - HTTPS로 서비스 구동 (일부 브라우저는 HTTP에서 Geolocation API 차단)